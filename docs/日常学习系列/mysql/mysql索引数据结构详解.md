索引是帮助MySQL 高效获取数据的排好序的数据结构。

### 数据结构学习网址

```
https://www.cs.usfca.edu/~galles/visualization/Algorithms.html
```

### 各种数据结构作为索引的优劣分析

二叉树：可能会造成单边过长，失去意义

红黑树：数据多的时候，树的高度过高

​	一个度的高度进行一次磁盘IO

Hash 表

通过一次hash 算法就能找到对应的一条数据了

不支持范围索引，排序等，所以不选用作为索引

B-Tree：

- 叶节点具有相同的深度，叶节点的指针为空；
- 所有索引元素不重复；
- 节点中的数据索引从左到右递增排序。

B+Tree：

- 非叶子节点不存储data,只存储索引，可以放更多的索引；
- 叶子节点包含所有索引字段；
- 叶子节点用指针连接，提高区间访问的性能

ps:查看当前主机mysql 存储的位置

```
SHOW GLOBAL VARIABLES LIKE '%datadir%'
```

### MyISAM 存储引擎

- 索引文件和数据文件是分离的（非聚集）

- MYI ：存储B+ 树的索引

- MYD : 存储data 值

### InnoDB 存储引擎

- 表数据文件本身就是按B+Tree 组织的一个索引结构文件

- 聚集索引——叶节点包含了完整的数据记录

- 为什么InnoDB 表必须有主键，并且推荐使用整型的自增主键？

  需要一个唯一的索引，假如用UUID,存储的空间更大，使用整型的更快，使用自增的原因是减少节点的分裂和平衡

- 为什么非主键索引结构叶子节点存储的是主键值

  一致性和节省存储空间

### 联合索引的底层存储结构

最左前缀原则

![image-20200923210436274](C:\Users\asus\AppData\Roaming\Typora\typora-user-images\image-20200923210436274.png)